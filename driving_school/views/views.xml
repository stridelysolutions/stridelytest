<odoo>
  <data>
    <record id="classes_view_kanban" model="ir.ui.view">
      <field name="name">classes.view.kanban</field>
      <field name="model">driving_school.classes</field>
      <field name="arch" type="xml">
        <kanban>
        <field name="name" />
        <field name="from_date" />
        <field name="to_date" />
        <field name="teacher" />
        <field name="location" />
          <templates>
          <t t-name="kanban-box">
          <div class="oe_kanban_global_click oe_kanban_card">
            <div class="oe_kanban_details">
                       
                       <div class="float-right" style = "background-color:green ; color:white ; height:110px; width:70px;">
                          <div style="text-align: center;">Lessons</div>
                          <div class = "align-self-center mx-auto" style="text-align: center;"><field name="count" /></div>
                        </div> 
                         
                        <div class ="float-left">
                          <h2><strong style="color:green"><field name="name"/></strong></h2>
                          <div>Start Date:<field name="from_date"/></div>
                          <div>End Date:<field name="to_date"/></div>
                          <div>Instructor:<field name="teacher" /></div>
                          <div>Location:<field name="location" /></div>
                        </div>
                </div>
                
            </div>  
            </t>
          </templates>
        </kanban>
      </field>
    </record>

    <record id="driving_school_classes_view_form" model="ir.ui.view">
      <field name="name">classes.view.form</field>
      <field name="model">driving_school.classes</field>
      <field name="arch" type="xml">
        <form string="">
        <header>
            <button 
              string="Add Lessons" 
              name="%(driving_school.wizard_students_view_action)d" 
              type="action" class="oe_highlight"  
              attrs="{'invisible': ['|',('state', '=', 'started'),('state', '=', 'completed')]}" />
            <button 
              name="start_data" 
              type="object" 
              string="Start" 
              class="btn-primary" 
              attrs="{'invisible': [('state', '=', 'started')]}" />
            <button 
              name="complete_data" 
              type="object" 
              string="Complete" 
              class="btn-primary" 
              attrs="{'invisible': [('state', '=', 'completed')]}"/>
            <button 
              name="cancel" 
              type="object" 
              string="Cancel" 
              class="btn-primary"/>
            <field name="state" widget="statusbar" options= "{'clickable':'1'}"/>
            <button 
               name='%(driving_school.wizard_invoice_view_action)d' 
               type='action' 
               class="btn-primary" 
               string="Create Invoice"/>
            
        </header>
          <sheet>
            <div class="oe_button_box" name="button_box">
               <button name='create_invoice_data' type='object' class='oe_stat_button' icon ="fa-dollar">
                  <div class = "o_stat_info">
                    <field name="count_invoice" class = "o_stat_value" />
                    <span class="o_stat_text">Invoice</span>
                  </div>
                </button>
            </div>
            <widget 
               name="web_ribbon" 
               text="Archived" 
               bg_color = 'bg-danger' 
               attrs="{'invisible': [('active', '!=', False)]}"/>
            <group>
                 <field name="name"/>
            </group>
            <group>
               <group>
                  <field name="from_date" />
                  <field name="to_date" />
                  <field name="service" />
                  <field name="active" invisible="1" />
               </group>
               <group >
                  <field name="vehicle"/>
                  <field name="teacher" />
                  <field name="location" />
                  <field name="available_spaces" />
               </group>
            </group>
            <group>
                 <field name="repeats" />
              </group>
            <group 
             attrs="{'invisible': ['|',('repeats','=','daily'),('repeats','=','monthly')]}">
             <group>
                    <field name="sunday"/>
                    <field name="monday"/>
                    <field name="tuesday"/>
                    <field name="wednesday" />
              </group>
              <group>
                    <field name="thursday" />
                    <field name="friday" />
                    <field name="saturday" />
              </group>      
               </group>
             <group attrs="{'invisible': ['|',('repeats','=','daily'),('repeats','=','weekly')]}">
                <field name="monthly_ids">
                  <form>
                      <field name="monthly_date" nolabel="1"/>
                  </form>
                  <tree editable="bottom">
                       <field name="monthly_date" nolabel="1"/>
                  </tree>
                </field>
             </group>  
             <h2><label for="lessons_ids"/></h2>
             <field name="lessons_ids"/>
             
          </sheet>
        </form>
      </field>
    </record>

    <record model="ir.ui.view" id="driving_school.list">
      <field name="name">driving_school list</field>
      <field name="model">driving_school.classes</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="from_date" />
          <field name="to_date" />
          <field name="state" />
        </tree>
      </field>
    </record>

    <record model="ir.actions.act_window" id="driving_school_classes_action_window">
      <field name="name">Classes</field>
      <field name="res_model">driving_school.classes</field>
      <field name="view_mode">tree,form,kanban</field>
    </record>

    <menuitem 
       name="Driving School" 
       id="driving_school.menu_root"/>
    <menuitem 
       name="Employees" 
       id="driving_school.menu_1" 
       parent="driving_school.menu_root" 
       sequence="4" 
       action="hr.open_view_employee_list_my"/>
    <menuitem 
       name="Vehicles" 
       id="driving_school.menu_2" 
       parent="driving_school.menu_root" 
       sequence="7" 
       action="fleet.fleet_vehicle_action"/>
    <menuitem 
      name="Classes" 
      id="driving_school.menu_3" 
      parent="driving_school.menu_root" 
      sequence="2"
      action="driving_school_classes_action_window"
      />
  </data>
</odoo>
